## ai-test-game02 — 2D サバイバーズ系（全方位アクション）

このリポジトリは、制作工程でAIを最大活用して短期間で“形と量”を出すことを目的とした2Dサバイバーズ系ゲームのプロトタイプです。ゲーム内でNPC対話AIは用いず、コーディング、ディレクトリ構成、UI/アート/サウンド素材、ドキュメント整備、ローカライズなど制作フローにAIをフル活用します。

### 目的（ゴール）
- 最短で遊べるループ（10分1ラン）を構築し、継続的にコンテンツを増やせる基盤を作る
- “AIで制作速度とバリエーションが増した”ことが分かる成果物（動画/スクリーンショット/数字）を示す
- 将来の拡張（武器/敵/マップ/メタ成長）に耐えるデータ駆動設計を確立

### コア体験（最小仕様）
- プレイヤーは移動のみ操作、攻撃は自動（オート射撃/周期発動）
- ウェーブ制エンカウントの生存型ループ（例: 10分でクリア）
- レベルアップ時にランダム3択から武器/パッシブを獲得
- ステージ終了時に統計とビルド履歴を表示

### スコープ（初期スプリント）
- ステージ: 1種（固定タイル背景）
- 敵: 4種（歩行/突進/範囲/タンク）
- 武器: 6種（近接/飛び道具/範囲/設置/追尾/バフ）
- パッシブ: 6種（攻撃力/攻速/移動/回復/磁力/クールダウン）
- UI: タイトル/ゲーム/レベルアップ/結果/ポーズ

---

## 開発環境
- Unity: 6000.2.9f1
- レンダリング: Universal Render Pipeline (URP) 17.2.0
- 入力: Input System 1.14.2（`Assets/InputSystem_Actions.inputactions`）
- 2D関連: 2D Animation/Tilemap/SpriteShape 等
- AI関連（制作支援目的・ランタイム非必須）:
  - com.unity.ai.assistant: 1.0.0-pre.12
  - com.unity.ai.generators: 1.0.0-pre.20
  - com.unity.ai.inference: 2.3.0

推奨エディタ: Rider 2024 以降 / Visual Studio 2022 以降

---

## ディレクトリ方針（今後作成）
```
Assets/
  Scripts/
    Core/           // ゲームループ、時間、イベントバス
    Player/         // 入力、移動、装備スロット
    Combat/         // 武器、弾、ダメージ、当たり判定
    Enemies/        // 敵AI（単純なステアリング）、スポーナー
    Systems/        // 経験値、レベルアップ、ドロップ、メタ
    UI/             // HUD、レベルアップ、結果画面
    Data/           // ScriptableObject の定義
  Art/
    Sprites/
    VFX/
  Audio/
    BGM/
    SFX/
  Addressables/     // 後日導入予定
  Settings/
```

命名規約（例）
- クラス: PascalCase（例: `EnemySpawner`）
- フィールド: `_camelCase`（SerializeFieldは先頭に`_`）
- ScriptableObject: `So`接尾（例: `WeaponSo`）
- プレハブ: `Pfb_`接頭、スプライト: `Spr_`接頭、VFX: `Vfx_`接頭

---

## データ駆動設計
- `ScriptableObject`で武器/敵/パッシブ/ウェーブを定義
- パラメータは`min/max/成長式`を持ち、レベルに応じて補間/段階増分
- 戦闘はイベント駆動（例: `OnEnemyKilled`, `OnLevelUp`）でUI/ドロップ等を疎結合化

---

## AI活用ポリシー（制作フロー）
AIは“提案→出力→検証→採用”のループで使う。ゲーム内ランタイムAIは不要。

### コード
- 雛形生成: MonoBehaviour/ScriptableObject/Editor拡張のテンプレをAIに生成させる
- リファクタ提案: クラス分割/責務分離/命名/コメント最小主義の観点でレビュー
- 自動ドキュメント: 依存グラフ/UML/メッセージフローをAIで図化

### アート/UI
- スタイル固定プロンプトを策定し、武器/敵アイコン、UIアイコンを一括生成
- 9スライスUIフレーム/ボタン/パネル素材のバリエーション出力→Unityで配色差分
- スプライトはアトラス化、レイアウトはUI Toolkit/UGUIのどちらでも可

### サウンド
- SFXはテキストプロンプトから複数案生成→波形正規化/ループ調整をAI支援
- BGMはテンポ/BPM指定で数曲生成し、難易度帯に割当て

### ローカライズ/文言
- 日本語→英語の初稿をAIで生成、UI制約（文字数/改行）を指示
- ストア説明、チュートリアル、クレジット文面もドラフトをAIで作成

### バランス/分析
- 実プレイログ（csv）をAIに渡し、武器DPS/被弾率/クリア率から調整提案を受ける
- 提案はPRに添付し、変更理由を短文化して記録

---

## ワークフロー
1. 仕様ドラフト（Notion/READMEの該当章に追記）
2. タスク分解 → 1〜3日単位でPR駆動
3. AIで雛形/アセット生成 → 手動で最小検証（再現/パフォーマンス/視認性）
4. メトリクス計測（敵撃破数、被弾、DPS、生存時間）→ AIに調整提案依頼
5. 週次で動画化/スクショ化して進捗公開

コミット規約（例）
- `feat: 武器「ブーメラン」実装`
- `balance: 近接系の基礎DPSを+12%`
- `ui: レベルアップ画面の候補UI更新`

---

## マイルストーン（例：最初の2週間）
- Day 1-2: 入力/移動/敵スポーン/被ダメ/ゲームオーバー
- Day 3-4: 武器2種+レベルアップUI（3択）
- Day 5-6: 敵4種/ウェーブ設定/ドロップ（経験値/回復）
- Day 7-8: UI/演出磨き（ヒット/被弾/レベルアップ）
- Day 9-10: アート/アイコン/SFXをAIで量産→選別→適用
- Day 11-12: バランス初版→テレメトリ→AI提案で調整
- Day 13-14: ビルド/ストア素材/短尺動画

---

## ビルド/実行
- 既定シーン: `Assets/Scenes/SampleScene.unity`（初期は検証用）
- 解像度: 1920x1080（可変）、ターゲット: Windows PC
- 入力: WASD/左スティックで移動。将来的にパッド対応

---

## 品質ゲート（Doneの定義）
- 60 FPS維持（ターゲットPCで）
- 可読性基準: メソッド < 60行、早期return、例外の乱用禁止
- プレイ計測: 5本の10分ランで致命的不具合なし
- UI可読性: 100%スケールで文字/色コントラスト達成

---

## ライセンス/クレジット
- AI生成アセットは商用利用可のモデル/設定のみ採用（出典管理）
- 外部アセット使用時は`Credits.md`にライセンス表記を追記

---

## 参考
- サバイバーズ系設計の要点: 敵密度曲線、経験値獲得速度、成長の“手応え”
- 失敗例の回避: 敵の視認性低下、経験値回収の面倒さ、選択肢の形骸化


