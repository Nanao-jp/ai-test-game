# デザイン仕様（固定版 v0.1）

## コアループ（5分1ラン）
- 移動のみ操作（オート攻撃）。敵を避けて経験値回収→レベルアップ3択→ビルド強化→時間生存でクリア
- 5:00でボス出現→撃破でリザルト

## テーマ/表現
- 近未来スクラップヤード（トップダウン/オーソ）。視認性重視のフラット2D＋URPライト

## カメラ/操作
- カメラ: オーソ 5〜7、滑らか追従（遅延0.1〜0.2s）
- PC: WASD/左スティック、ダッシュ無し
- モバイル: 仮想スティック（左移動）/攻撃は常時オート、ダッシュ無し

## 初期コンテンツ
- 敵4種: チェイサー / スウォーマー / チャージャー / タンク
- 武器10種: ナイフ / シュリケン / ブーメラン / ライトニング / ミニドローン / 地雷 / ファイアコーン / ショット / レーザー / ショックノヴァ
- パッシブ6種: 攻撃力 / 攻撃速度 / クールダウン短縮 / 移動速度 / 磁力 / 自然回復

## 難易度と経済
- 目標クリア率: 初心者30〜40%、熟練60%
- レベルテンポ（例）: 0:20, 0:45, 1:15, 1:50, 2:30, 3:20, 4:10（計7回程度）
- XP: 低レベル高速、Lv4以降やや指数寄り
- リロール無し、同一武器スタックで段階進化（Lv3で進化想定）

## スポーン/密度曲線
- 0–1分: スウォーマー主体で回避学習
- 1–3分: チェイサー追加、群れサイズを漸増
- 3–4分: チャージャー混成、画面圧迫
- 4–5分: タンク＋取り巻きでDPSチェック、5:00にボス
- ミニボス: 2:30に1体（大経験値）

## 画面/UX原則
- 被弾/ヒットに強いフィードバック（色相+スケール+SFX）
- ドロップは最終的に自動吸引が有利（磁力の価値を体感）
- テキスト短・アイコン主導（AI量産前提）

## 技術方針
- 物理は `Rigidbody2D`/`Collider2D` の軽量運用、弾判定は簡素化
- オブジェクトプール標準化（弾・敵・ドロップ）
- パラメータは `ScriptableObject` 化（武器/敵/ウェーブ/パッシブ）

---

## 現状実装（v0.1.1 / 2025-10-25）
- プレイヤー
  - 移動: `Rigidbody2D`、補間ON、WASD
  - オート攻撃（飛び道具）: 最後のキー入力方向に矢を射出
  - 近接攻撃（剣）: 扇形ヒット、進行方向の直交方向にスイング、前方オフセット
  - HPバー: 足元ワールドバー
- 敵/スポーン
  - 周囲スポーン→追尾→接触ダメージ、撃破でEXPドロップ
- システム
  - Health/Damage/Damageable
  - 経験値ドロップ→Magnet吸引→レベルアップイベント
  - GameEventsに`OnEnemyDied/OnPlayerDied`
- アート適用
  - `SpriteSet`で Player/Enemy/Bullet/Exp/Background/SlashVFX を一括管理
  - `Tools > Art > Setup Panel` で割当・保存・適用
  - Tiny Swords取り込みと自動選定（Quick）に対応
- 表示/演出
  - 背景: タイル（`SpriteSet.backgroundSprite`）またはチェック柄
  - 斬撃VFX: 外部スプライト/Prefabに差し替え可能

今後:
- レベルアップUI（3択）・選択の記録
- 武器/パッシブのSO化とデータ駆動化
- プール導入・パフォーマンス計測